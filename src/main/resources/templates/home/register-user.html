<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>用户注册</title>

    <link rel="stylesheet" type="text/css" th:href="@{/css/login.css}">
    <link rel="stylesheet" th:href="@{/lib/css/bootstrap.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script th:src="@{/lib/js/jquery-3.4.1.js}"></script>
    <script th:src="@{/lib/js/bootstrap.bundle.js}"></script>
    <script th:src="@{/lib/js/bootstrap.js}"></script>

</head>
<body>
<form  method="post" action="" id="register-form">
    <div class="regist">
        <div class="regist_center">
            <div class="regist_top">
                <div class="left fl">会员注册</div>
                <div class="right fr"><a href="./index.html" target="_self">小米商城</a></div>
                <div class="clear"></div>
                <div class="xian center"></div>
            </div>
            <div class="regist_main center">
                <div class="username">用&nbsp;&nbsp;户&nbsp;&nbsp;名:&nbsp;&nbsp;<input class="shurukuang" type="text" name="userUsername" placeholder="请输入你的用户名"/><span>请不要输入汉字</span></div>
                <div class="username">密&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;码:&nbsp;&nbsp;<input class="shurukuang" type="password" name="userPassword" placeholder="请输入你的密码"/><span>请输入6位以上字符</span></div>

                <div class="username">邮&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;箱:&nbsp;&nbsp;
                    <input class="shurukuang" type="text" placeholder="请输入你的邮箱" name="userEmail"/>
                </div>

            </div>
            <div class="regist_submit">
                <input class="btn btn-primary" type="button" onclick="ajax_register_user()" value="立即注册" >
            </div>

        </div>
    </div>
</form>


<!------------------------- js ：开始--------------------->
<script>
    //ajax提交表单
    function ajax_register_user() {
        let url = "/registerUserDo";
        let data = $("#register-form").serialize();
        let callback = function (responseText, status) {
            console.log(responseText);
            console.log("code = " + responseText.code);
            console.log("msg = " + responseText.msg);
            console.log("data.userUsername = " + responseText.data.userUsername);
            content = responseText.data.userUsername;
            if (responseText.code == 200){
                alert("注册成功！");
            }else {
                alert("注册失败！");
            }
        };
        $.post(url, data, callback);
    }
</script>
<!--========================= js ：结束 =========================-->

</body>
</html>